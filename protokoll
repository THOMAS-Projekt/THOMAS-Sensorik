+++ THOMAS-Protokoll (Version 1.4) +++

THOMAS => Arduino


Aufbau einer Übermittlung:
<byte> Paketlänge
<byte[Paketlänge]> Paket


Zusammensetzung eines Paketes:

<byte> Anfrage
	0 => Heartbeat
	{
		Rückgabe: <byte> Bestätigung: 1
	}

	1 => Meldung ausgeben
	{
		<byte> Priorität (0 - 2)
		<byte> Textlänge
		<byte[Textlänge * Länge char]> Text
		Rückgabe: <byte> Textlänge
	}
	
	2 => Sensoren ansprechen
	{
		<byte> Sensortyp
			0 => Ultraschallsensoren
			{
				<byte> Sensor-ID (0 - 4)
				<byte> Befehl
					0 => Status aktualisieren
					{
						Rückgabe: <byte> Status (0 -> Sensor O.K. | 1 -> Defekt)
					}
					
					1 => Status abrufen
					{
						Rückgabe: <byte> Status (0 -> Sensor O.K. | 1 -> Defekt)
					}
					
					2 => Messwert abrufen
					{
						Rückgabe: <byte[Länge int]> Messwert in cm
					}
			}
	}
	
	3 => Aktoren ansprechen
	{
		<byte> Gerät
			0 => Kameraservo(s)
			{
				<byte> Servo-ID (0 - /)
				<byte> Befehl
					0 => Drehe auf Wert
					{
						<byte[Länge int]> Position in grad
						Rückgabe: <byte[Länge int]> Neue Position in grad
					}
					
					1 => Drehe um Wert
					{
						<byte> Richtung (0 -> Nach links | 1 -> Nach rechts)
						<byte[Länge int]> Änderungswert in grad
						Rückgabe: <byte[Länge int]> Neue Position in grad
					}
			}
	}
}
